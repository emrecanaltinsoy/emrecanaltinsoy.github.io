<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <title>{{ page.title }}</title>

  <!-- Load preferences utility early -->
  <script src="{{ "/assets/js/theme.js" | relative_url }}"></script>

  <!-- Early initialization to prevent FOUC/FOUF -->
  <script>
    (function() {
      // Apply font preference immediately
      PreferencesUtil.earlyInit();

      // Preload the correct theme stylesheet
      var theme = PreferencesUtil.getInitialTheme();
      var link = document.createElement('link');
      link.rel = 'preload';
      link.as = 'style';
      link.href = '{{ "/assets/css/" | relative_url }}' + theme + '.css';
      document.head.appendChild(link);
    })();
  </script>

  {%- seo title=false -%}

  {% if page.robots %}
    <meta name="robots" content="{{page.robots}}" />
  {% endif %}

  <!-- insert favicons, used https://realfavicongenerator.net/ -->
  <link rel="icon" type="image/png" href="/assets/favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg" />
  <link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png" />
  <!-- <link rel="manifest" href="/assets/favicon/site.webmanifest" /> -->

  <!-- Theme stylesheets -->
  <link rel="stylesheet" type="text/css" href="{{ "/assets/css/latte.css" | relative_url }}" id="theme-latte">
  <link rel="stylesheet" type="text/css" href="{{ "/assets/css/frappe.css" | relative_url }}" id="theme-frappe">
  <link rel="stylesheet" type="text/css" href="{{ "/assets/css/macchiato.css" | relative_url }}" id="theme-macchiato">
  <link rel="stylesheet" type="text/css" href="{{ "/assets/css/mocha.css" | relative_url }}" id="theme-mocha">

  <!-- Initialize preferences after stylesheets are available -->
  <script>PreferencesUtil.init();</script>

</head>
